"use strict";(self.webpackChunkpurity_smart_services=self.webpackChunkpurity_smart_services||[]).push([[670],{4670:(V,Z,r)=>{r.r(Z),r.d(Z,{UserLayoutModule:()=>G});var b=r(529),p=r(9299),c=r(6895),a=r(4006),g=r(7957),U=r(5938),m=r(9549),T=r(6308),_=r(8739),x=r(3626),v=r(5454),A=r(6902),M=r(1054),w=r(9031),f=r(5861),u=r(5756),O=r(3162),h=r(5840),e=r(4650),C=r(4859),D=r(3546),S=r(9602);function q(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"h6",4),e._uU(3,"Type your modal title"),e.qZA(),e.TgZ(4,"button",5),e.NdJ("click",function(){const i=e.CHM(t).dismiss;return e.KtG(i("Cross click"))}),e.TgZ(5,"span",6),e._uU(6,"\xd7"),e.qZA()()(),e.TgZ(7,"div",7)(8,"p"),e._uU(9,"Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean."),e.qZA(),e.TgZ(10,"p"),e._uU(11,"A small river named Duden flows by their place and supplies it with the necessary regelialia. It is a paradisematic country, in which roasted parts of sentences fly into your mouth."),e.qZA()(),e.TgZ(12,"div",10)(13,"button",14),e.NdJ("click",function(){const i=e.CHM(t).close;return e.KtG(i("Close click"))}),e._uU(14,"Close"),e.qZA()()()}}let N=(()=>{class n{constructor(t,o){this.modalService=t,this.activeModal=o}ngOnInit(){}open(t,o,s){this.activeModal.close("done"),"sm"===s&&"modal_mini"===o?this.modalService.open(t,{windowClass:"modal-mini",size:"sm",centered:!0}).result.then(i=>{this.closeResult="Closed with: $result"},i=>{this.closeResult="Dismissed $this.getDismissReason(reason)"}):""===s&&"Notification"===o?this.modalService.open(t,{windowClass:"modal-danger",centered:!0}).result.then(i=>{this.closeResult="Closed with: $result"},i=>{this.closeResult="Dismissed $this.getDismissReason(reason)"}):this.modalService.open(t,{centered:!0}).result.then(i=>{this.closeResult="Closed with: $result"},i=>{this.closeResult="Dismissed $this.getDismissReason(reason)"})}close(t){this.activeModal.close(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.FF),e.Y36(v.Kz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-booking-modal"]],decls:18,vars:1,consts:[[1,"row"],[1,"col-12"],[1,"modal-content","bg-secondary"],[1,"modal-header","bg-white"],["id","modal-title-default",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","px-3"],[1,"demo-inline-calendar-card"],[3,"selected","selectedChange"],[1,"modal-footer","bg-white"],[1,"text-center"],["mat-flat-button","","color","primary",3,"click"],["address",""],["type","button","data-dismiss","modal",1,"btn","btn-link","ml-auto",3,"click"]],template:function(t,o){if(1&t){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h6",4),e._uU(5,"Choose Service Date"),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return o.close("Cross click")}),e.TgZ(7,"span",6),e._uU(8,"\xd7"),e.qZA()()(),e.TgZ(9,"div",7)(10,"mat-card",8)(11,"mat-calendar",9),e.NdJ("selectedChange",function(d){return o.selected=d}),e.qZA()()(),e.TgZ(12,"div",10)(13,"div",11)(14,"button",12),e.NdJ("click",function(){e.CHM(s);const d=e.MAs(17);return e.KtG(o.open(d,"",""))}),e._uU(15,"Continue"),e.qZA()()()()()(),e.YNc(16,q,15,0,"ng-template",null,13,e.W1O)}2&t&&(e.xp6(11),e.Q6J("selected",o.selected))},dependencies:[C.lW,D.a8,S._H],styles:[".demo-inline-calendar-card[_ngcontent-%COMP%] {\n  width: 300px;\n}\n\n.modal-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%] {\n  font-size: 1rem;\n}\n\n.modal-body[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}"]}),n})();function J(n,l){1&n&&(e.TgZ(0,"div")(1,"span",11),e._UZ(2,"i",12),e.qZA()())}const F=function(){return[]};let y=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-service-card-widget"]],inputs:{service:"service"},decls:14,vars:10,consts:[[1,"card","card-stats","mb-4","mb-xl-0"],[1,"card-body"],[1,"row"],[1,"col"],[3,"src","alt"],[1,"col","pt-3"],[1,"h2","font-weight-bold","mb-0",3,"title"],[1,"card-title","text-uppercase","text-muted","mb-0"],[1,"rating","pt-3"],[4,"ngFor","ngForOf"],[1,"text-nowrap","text-muted","text-sm"],[1,"text-warning","mr-1"],[1,"fa","fa-star"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"img",4),e.qZA(),e.TgZ(5,"div",5)(6,"span",6),e._uU(7),e.qZA(),e.TgZ(8,"h5",7),e._uU(9),e.qZA(),e.TgZ(10,"div",8),e.YNc(11,J,3,0,"div",9),e.TgZ(12,"span",10),e._uU(13),e.qZA()()()()()()),2&t){let s;e.xp6(4),e.hYB("src","assets/img/services/thumbnails/",o.service.sid,"_",o.service.sid,".jpg",e.LSH),e.s9C("alt",o.service.name),e.xp6(2),e.s9C("title",o.service.name),e.xp6(1),e.Oqu(o.service.name),e.xp6(2),e.hij("\u20b9",o.service.price," onwards"),e.xp6(2),e.Q6J("ngForOf",e.DdM(9,F).constructor(o.service.ratings)),e.xp6(2),e.AsE("",null!==(s=o.service.ratings)&&void 0!==s?s:0," (",o.service.reviews_count," Reviews)")}},dependencies:[c.sg],styles:[".card[_ngcontent-%COMP%] {\n  transition: all 0.15s ease-in-out;\n}\n.card[_ngcontent-%COMP%]:hover {\n  transform: scale(1.025);\n  box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;\n}\n.card-body[_ngcontent-%COMP%] {\n  padding: 0.75rem 0.75rem !important;\n  cursor: pointer;\n}\n.card-body[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] {\n  flex-direction: column;\n}\n.card-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n  width: 100%;\n  border-radius: 0.375rem;\n  height: 200px;\n  object-fit: cover;\n}\n.card-body[_ngcontent-%COMP%]   span.h2[_ngcontent-%COMP%] {\n  display: block;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.card-body[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n}"]}),n})();function P(n,l){1&n&&e._UZ(0,"hr",31)}function k(n,l){1&n&&(e.TgZ(0,"h6",32),e._uU(1,"Contact information"),e.qZA())}function B(n,l){if(1&n&&(e.TgZ(0,"div",17)(1,"div",7)(2,"div",33)(3,"div",19)(4,"label",34),e._uU(5,"Address"),e.qZA(),e._UZ(6,"input",35),e.qZA()()(),e.TgZ(7,"div",7)(8,"div",36)(9,"div",19)(10,"label",37),e._uU(11,"City"),e.qZA(),e._UZ(12,"input",38),e.qZA()(),e.TgZ(13,"div",36)(14,"div",19)(15,"label",39),e._uU(16,"Locality"),e.qZA(),e._UZ(17,"input",40),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(6),e.Q6J("value",null==t.user?null:t.user.address),e.xp6(6),e.Q6J("value",null==t.user?null:t.user.city),e.xp6(5),e.Q6J("value",null==t.user?null:t.user.locality)}}let H=(()=>{class n{constructor(t,o,s){this.route=t,this.router=o,this.modalService=s,this.serviceDetail=this.router.getCurrentNavigation().extras.state}ngOnInit(){var t=this;return(0,f.Z)(function*(){t.route.queryParams.subscribe(function(){var o=(0,f.Z)(function*(s){if(s.prop){const{data:i}=yield u.q.graphql.request((0,h.M0)(s.prop));i&&(t.user={displayName:i.user.displayName,avatarUrl:i.user.avatarUrl,address:i.vendor_profiles[0].address,city:i.vendor_profiles[0].city,locality:i.vendor_profiles[0].locality,email:i.vendor_profiles[0].email,phoneNumber:i.vendor_profiles[0].phone,roles:"Vendor"})}else if(s.User){const{data:i}=yield u.q.graphql.request((0,h.o0)(s.User));i&&(t.user={displayName:i.user_profiles[0].user.displayName,avatarUrl:i.user_profiles[0].user.avatarUrl,address:i.user_profiles[0]?.user_addresses[0]?.address,city:i.user_profiles[0]?.user_addresses[0]?.city,locality:i.user_profiles[0]?.user_addresses[0]?.locality,email:i.user_profiles[0].user.email,phoneNumber:i.user_profiles[0].phone,roles:"User"})}else t.user=u.q.auth.getUser()});return function(s){return o.apply(this,arguments)}}())})()}formatJSON(t){let o;return o.displayName=t.user.displayName,o.avatarUrl=t.user.avatarUrl,o.address=t.vendor_profiles[0].address,o.city=t.vendor_profiles[0].city,o.locality=t.vendor_profiles[0].locality,o.email=t.vendor_profiles[0].email,o.phone=t.vendor_profiles[0].phone,o}bookNow(){u.q.auth.getUser()?this.openBookingModal():this.openLoginModal()}openLoginModal(){this.modalService.open(O.X,{windowClass:"modal-mini",size:"sm",centered:!0}).result.then(o=>{console.log(`Closed with: ${o}`)})}openBookingModal(){this.modalService.open(N,{windowClass:"modal-mini",size:"md",centered:!0}).result.then(o=>{console.log(`Closed with: ${o}`)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.gz),e.Y36(p.F0),e.Y36(v.FF))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-service-details"]],decls:60,vars:10,consts:[[1,"header","pb-8","pt-5","pt-lg-8","d-flex","align-items-center",2,"background-size","cover","background-position","center top"],[1,"mask","bg-gradient-danger","opacity-8"],[1,"container-fluid","d-flex","align-items-center"],[1,"row",2,"width","100%"],[1,"col-lg-7","col-md-10"],[1,"display-2","text-white"],[1,"container-fluid","mt--7"],[1,"row"],[1,"col-xl-4","order-xl-2","mb-5","mb-xl-0"],[3,"service"],[1,"col-xl-8","order-xl-1","mb-8"],[1,"card","bg-secondary","shadow"],[1,"card-header","bg-white","border-0"],[1,"row","align-items-center"],[1,"col-8"],[1,"mb-0"],[1,"card-body"],[1,"pl-lg-4"],[1,"col-lg-6"],[1,"form-group"],["for","input-username",1,"form-control-label"],[1,"text-sm"],["for","input-email",1,"form-control-label"],["for","input-first-name",1,"form-control-label"],["for","input-last-name",1,"form-control-label"],[1,"col-lg-12"],["class","my-4",4,"ngIf"],["class","heading-small text-muted mb-4",4,"ngIf"],["class","pl-lg-4",4,"ngIf"],[1,"card-footer"],["mat-flat-button","","color","primary",3,"click"],[1,"my-4"],[1,"heading-small","text-muted","mb-4"],[1,"col-md-12"],["for","input-address",1,"form-control-label"],["id","input-address","type","text","disabled","",1,"form-control","form-control-alternative",3,"value"],[1,"col-lg-4"],["for","input-city",1,"form-control-label"],["type","text","id","input-city","disabled","",1,"form-control","form-control-alternative",3,"value"],["for","input-locality",1,"form-control-label"],["type","text","id","input-country","disabled","",1,"form-control","form-control-alternative",3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"span",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),e._uU(6),e.qZA()()()()(),e.TgZ(7,"div",6)(8,"div",7)(9,"div",8),e._UZ(10,"app-service-card-widget",9),e.qZA(),e.TgZ(11,"div",10)(12,"div",11)(13,"div",12)(14,"div",13)(15,"div",14)(16,"h3",15),e._uU(17,"Service Details"),e.qZA()()()(),e.TgZ(18,"div",16)(19,"form")(20,"div",17)(21,"div",7)(22,"div",18)(23,"div",19)(24,"label",20),e._uU(25,"Service Name"),e.qZA(),e.TgZ(26,"p",21),e._uU(27),e.qZA()()(),e.TgZ(28,"div",18)(29,"div",19)(30,"label",22),e._uU(31,"Duration"),e.qZA(),e.TgZ(32,"p",21),e._uU(33),e.qZA()()()(),e.TgZ(34,"div",7)(35,"div",18)(36,"div",19)(37,"label",23),e._uU(38,"Price"),e.qZA(),e.TgZ(39,"p",21),e._uU(40),e.qZA()()(),e.TgZ(41,"div",18)(42,"div",19)(43,"label",24),e._uU(44,"Total Reviews"),e.qZA(),e.TgZ(45,"p",21),e._uU(46),e.qZA()()()(),e.TgZ(47,"div",7)(48,"div",25)(49,"div",19)(50,"label",23),e._uU(51,"Description"),e.qZA(),e.TgZ(52,"p",21),e._uU(53),e.qZA()()()()(),e.YNc(54,P,1,0,"hr",26),e.YNc(55,k,2,0,"h6",27),e.YNc(56,B,18,3,"div",28),e.qZA()(),e.TgZ(57,"div",29)(58,"button",30),e.NdJ("click",function(){return o.bookNow()}),e._uU(59,"Book Now"),e.qZA()()()()()()),2&t&&(e.xp6(6),e.Oqu(null==o.serviceDetail?null:o.serviceDetail.name),e.xp6(4),e.Q6J("service",o.serviceDetail),e.xp6(17),e.hij(" ",null==o.serviceDetail?null:o.serviceDetail.name," "),e.xp6(6),e.hij(" ",null==o.serviceDetail?null:o.serviceDetail.duration," hours "),e.xp6(7),e.hij(" \u20b9 ",null==o.serviceDetail?null:o.serviceDetail.price," Onwards** "),e.xp6(6),e.hij(" ",null==o.serviceDetail?null:o.serviceDetail.reviews_count," "),e.xp6(7),e.hij(" ",null==o.serviceDetail?null:o.serviceDetail.description," "),e.xp6(1),e.Q6J("ngIf",null==o.user?null:o.user.address),e.xp6(1),e.Q6J("ngIf",null==o.user?null:o.user.address),e.xp6(1),e.Q6J("ngIf",null==o.user?null:o.user.address))},dependencies:[c.O5,y,a._Y,a.JL,a.F,C.lW],styles:[".card-profile-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n  width: 180px;\n}\n\n.mask[_ngcontent-%COMP%] {\n  position: fixed;\n  height: 300px;\n}"]}),n})();var L=r(8675),I=r(4004),Y=r(3238),Q=r(7392),R=r(4144);function $(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"mat-option",29),e.NdJ("click",function(){const i=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.getServiceDetails(i))}),e._uU(1),e.qZA()}if(2&n){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name," ")}}function j(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",30),e.NdJ("click",function(){const i=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.getServiceDetails(i))}),e._UZ(1,"app-service-card-widget",31),e.qZA()}if(2&n){const t=l.$implicit;e.xp6(1),e.Q6J("service",t)}}const X=[{path:"home",component:(()=>{class n{constructor(t){this.router=t,this.myControl=new a.NI(""),this.options=[]}ngOnInit(){this.getServices().then(t=>{this.options=this.servicesList,this.filteredOptions=this.myControl.valueChanges.pipe((0,L.O)(""),(0,I.U)(o=>o.length>=2?this._filter(o||""):[]))})}getServices(){var t=this;return(0,f.Z)(function*(){const{data:o}=yield u.q.graphql.request(h.ew);o&&(console.log(o),t.servicesList=[...o.service_details])})()}getServiceDetails(t){this.router.navigate([`user/service-details/${t.sid}`],{state:t})}_filter(t){return this.options.filter(o=>o.name.toLowerCase().includes(t.toLowerCase()))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-home"]],decls:45,vars:6,consts:[[1,"user-home-wrapper"],[1,"header","pb-8","pt-5","pt-lg-8","d-flex","align-items-center",2,"background-size","cover","background-position","center top"],[1,"mask","bg-gradient-danger","opacity-8"],[1,"container-fluid","d-flex","align-items-center"],[1,"row",2,"width","100%"],[1,"col-12","text-center"],[1,"display-2","text-white"],[1,"text-white"],[1,"header","pb-8"],[1,"container-fluid"],[1,"mt--7"],[1,"card","shadow"],[1,"card-header","bg-transparent"],[1,"row","align-items-center"],[1,"col"],[1,"text-uppercase","text-muted","ls-1","mb-1"],[1,"mb-0"],[1,"card-body"],[1,"navbar-search","navbar-search-light","form-inline","mr-3","d-md-flex","ml-lg-auto"],["appearance","outline",1,"example-full-width"],["matPrefix",""],["type","text","matInput","",3,"formControl","matAutocomplete"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],[1,"header-body","pt-5"],[1,"card","shadow","bg-secondary"],[1,"card-header","bg-white"],[1,"row"],["class","col-xl-3 col-lg-4 col-md-4 pb-4",3,"click",4,"ngFor","ngForOf"],[3,"value","click"],[1,"col-xl-3","col-lg-4","col-md-4","pb-4",3,"click"],[3,"service"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"span",2),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"h1",6),e._uU(7,"Purity Smart Services"),e.qZA(),e.TgZ(8,"h3",7),e._uU(9,"Professional Home Services \u2013 your one-stop solution for all your home maintenance and repair needs!"),e.qZA()()()()(),e.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13)(16,"div",14)(17,"h6",15),e._uU(18,"What service do you need? "),e.qZA(),e.TgZ(19,"h2",16),e._uU(20,"Search any service"),e.qZA()()()(),e.TgZ(21,"div",17)(22,"form",18)(23,"mat-form-field",19)(24,"mat-label"),e._uU(25,"Search"),e.qZA(),e.TgZ(26,"mat-icon",20),e._uU(27,"search"),e.qZA(),e._UZ(28,"input",21),e.TgZ(29,"mat-autocomplete",null,22),e.YNc(31,$,2,2,"mat-option",23),e.ALo(32,"async"),e.qZA()()()()()(),e.TgZ(33,"div",24)(34,"div",25)(35,"div",26)(36,"div",13)(37,"div",14)(38,"h6",15),e._uU(39,"Choose your service"),e.qZA(),e.TgZ(40,"h2",16),e._uU(41,"All Services"),e.qZA()()()(),e.TgZ(42,"div",17)(43,"div",27),e.YNc(44,j,2,1,"div",28),e.qZA()()()()()()()),2&t){const s=e.MAs(30);e.xp6(28),e.Q6J("formControl",o.myControl)("matAutocomplete",s),e.xp6(3),e.Q6J("ngForOf",e.lcZ(32,4,o.filteredOptions)),e.xp6(13),e.Q6J("ngForOf",o.servicesList)}},dependencies:[c.sg,y,a._Y,a.Fj,a.JJ,a.JL,a.F,a.oH,m.KE,m.hX,m.qo,g.XC,g.ZL,Y.ey,Q.Hw,R.Nt,c.Ov],styles:[".mask[_ngcontent-%COMP%] {\n  position: fixed;\n  height: 300px;\n}\n\n.display-2[_ngcontent-%COMP%] {\n  font-size: 1.8rem;\n  font-family: sans-serif;\n}\n\n.navbar-search-light[_ngcontent-%COMP%]   .focused[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%] {\n  border-color: #f5365c !important;\n}\n\nmat-form-field[_ngcontent-%COMP%] {\n  width: 100%;\n}"]}),n})()},{path:"user-profile",component:r(3713).t},{path:"service-details/:id",component:H},{path:"logout",component:w.t},{path:"**",redirectTo:"home"}];var K=r(4546),E=r(9258);let G=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.ez,E.K,a.u5,a.UX,b.JF,M.g,v.IJ,T.JX,A.Iq,x.p0,U.Is,m.lN,g.Bb,a.UX,K.p,_.TU,p.Bz.forChild(X),m.lN]}),n})()}}]);