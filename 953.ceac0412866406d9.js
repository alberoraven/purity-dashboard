"use strict";(self.webpackChunkpurity_smart_services=self.webpackChunkpurity_smart_services||[]).push([[953],{9031:(b,_,d)=>{d.d(_,{t:()=>g});var m=d(5756),n=d(4650),v=d(9299),e=d(5005);let g=(()=>{class c{constructor(f,l){this.router=f,this.sharedService=l}ngOnInit(){m.q.auth.signOut().then(()=>{sessionStorage.setItem("isLogin","false"),this.sharedService.userData.next(null),this.router.navigateByUrl("/user/login")})}}return c.\u0275fac=function(f){return new(f||c)(n.Y36(v.F0),n.Y36(e.F))},c.\u0275cmp=n.Xpm({type:c,selectors:[["app-logout"]],decls:0,vars:0,template:function(f,l){}}),c})()},3713:(b,_,d)=>{d.d(_,{t:()=>a});var m=d(5861),n=d(5756),v=d(5840),e=d(4650),g=d(9299),c=d(6895),h=d(4006);function f(i,s){if(1&i&&e._UZ(0,"input",40),2&i){const r=e.oxw();e.Q6J("value",null==r.user?null:r.user.displayName)}}function l(i,s){1&i&&e._UZ(0,"hr",41)}function p(i,s){1&i&&(e.TgZ(0,"h6",25),e._uU(1,"Contact information"),e.qZA())}function t(i,s){if(1&i&&(e.TgZ(0,"div",26)(1,"div",3)(2,"div",42)(3,"div",28)(4,"label",43),e._uU(5,"Address"),e.qZA(),e._UZ(6,"input",44),e.qZA()()(),e.TgZ(7,"div",3)(8,"div",45)(9,"div",28)(10,"label",46),e._uU(11,"City"),e.qZA(),e._UZ(12,"input",47),e.qZA()(),e.TgZ(13,"div",45)(14,"div",28)(15,"label",48),e._uU(16,"Locality"),e.qZA(),e._UZ(17,"input",49),e.qZA()()()()),2&i){const r=e.oxw();e.xp6(6),e.Q6J("value",null==r.user?null:r.user.address),e.xp6(6),e.Q6J("value",null==r.user?null:r.user.city),e.xp6(5),e.Q6J("value",null==r.user?null:r.user.locality)}}let a=(()=>{class i{constructor(r){this.route=r}ngOnInit(){var r=this;return(0,m.Z)(function*(){r.route.queryParams.subscribe(function(){var o=(0,m.Z)(function*(y){if(y.prop){const{data:u}=yield n.q.graphql.request((0,v.M0)(y.prop));u&&(r.user={displayName:u.user.displayName,avatarUrl:u.user.avatarUrl,address:u.vendor_profiles[0].address,city:u.vendor_profiles[0].city,locality:u.vendor_profiles[0].locality,email:u.vendor_profiles[0].email,phoneNumber:u.vendor_profiles[0].phone,roles:"Vendor"})}else if(y.User){const{data:u}=yield n.q.graphql.request((0,v.o0)(y.User));u&&(r.user={displayName:u.user_profiles[0].user.displayName,avatarUrl:u.user_profiles[0].user.avatarUrl,address:u.user_profiles[0]?.user_addresses[0]?.address,city:u.user_profiles[0]?.user_addresses[0]?.city,locality:u.user_profiles[0]?.user_addresses[0]?.locality,email:u.user_profiles[0].user.email,phoneNumber:u.user_profiles[0].phone,roles:"User"})}else r.user=n.q.auth.getUser()});return function(y){return o.apply(this,arguments)}}())})()}formatJSON(r){let o;return o.displayName=r.user.displayName,o.avatarUrl=r.user.avatarUrl,o.address=r.vendor_profiles[0].address,o.city=r.vendor_profiles[0].city,o.locality=r.vendor_profiles[0].locality,o.email=r.vendor_profiles[0].email,o.phone=r.vendor_profiles[0].phone,o}}return i.\u0275fac=function(r){return new(r||i)(e.Y36(g.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-profile"]],decls:59,vars:9,consts:[[1,"header","pb-8","pt-5","pt-lg-8","d-flex","align-items-center",2,"background-size","cover","background-position","center top"],[1,"mask","bg-gradient-danger","opacity-8"],[1,"container-fluid","d-flex","align-items-center"],[1,"row"],[1,"col-lg-7","col-md-10"],[1,"display-2","text-white"],[1,"container-fluid","mt--7"],[1,"col-xl-4","order-xl-2","mb-5","mb-xl-0"],[1,"card","card-profile","shadow"],[1,"row","justify-content-center"],[1,"col-lg-3","order-lg-2"],[1,"card-profile-image"],["href","javascript:void(0)"],["src","assets/img/theme/avatar.png",1,"rounded-circle"],[1,"card-header","text-center","border-0","pt-8","pt-md-4","pb-0","pb-md-4"],[1,"d-flex","justify-content-between"],[1,"card-body","pt-8","pt-md-8"],[1,"text-center"],[1,"col-xl-8","order-xl-1"],[1,"card","bg-secondary","shadow"],[1,"card-header","bg-white","border-0"],[1,"row","align-items-center"],[1,"col-8"],[1,"mb-0"],[1,"card-body"],[1,"heading-small","text-muted","mb-4"],[1,"pl-lg-4"],[1,"col-lg-6"],[1,"form-group"],["for","input-username",1,"form-control-label"],["type","text","id","input-username","class","form-control form-control-alternative","placeholder","Username","disabled","",3,"value",4,"ngIf"],["for","input-email",1,"form-control-label"],["type","email","id","input-email","disabled","",1,"form-control","form-control-alternative",3,"value"],["for","input-first-name",1,"form-control-label"],["type","text","id","input-first-name","placeholder","Phone","disabled","",1,"form-control","form-control-alternative",3,"value"],["for","input-last-name",1,"form-control-label"],["type","text","id","input-last-name","disabled","",1,"form-control","form-control-alternative",3,"value"],["class","my-4",4,"ngIf"],["class","heading-small text-muted mb-4",4,"ngIf"],["class","pl-lg-4",4,"ngIf"],["type","text","id","input-username","placeholder","Username","disabled","",1,"form-control","form-control-alternative",3,"value"],[1,"my-4"],[1,"col-md-12"],["for","input-address",1,"form-control-label"],["id","input-address","type","text","disabled","",1,"form-control","form-control-alternative",3,"value"],[1,"col-lg-4"],["for","input-city",1,"form-control-label"],["type","text","id","input-city","disabled","",1,"form-control","form-control-alternative",3,"value"],["for","input-locality",1,"form-control-label"],["type","text","id","input-country","disabled","",1,"form-control","form-control-alternative",3,"value"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0),e._UZ(1,"span",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),e._uU(6),e.qZA()()()()(),e.TgZ(7,"div",6)(8,"div",3)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"a",12),e._UZ(15,"img",13),e.qZA()()()(),e.TgZ(16,"div",14),e._UZ(17,"div",15),e.qZA(),e.TgZ(18,"div",16)(19,"div",17)(20,"h3"),e._uU(21),e.qZA()()()()(),e.TgZ(22,"div",18)(23,"div",19)(24,"div",20)(25,"div",21)(26,"div",22)(27,"h3",23),e._uU(28,"My account"),e.qZA()()()(),e.TgZ(29,"div",24)(30,"form")(31,"h6",25),e._uU(32,"User information"),e.qZA(),e.TgZ(33,"div",26)(34,"div",3)(35,"div",27)(36,"div",28)(37,"label",29),e._uU(38,"Username"),e.qZA(),e.YNc(39,f,1,1,"input",30),e.qZA()(),e.TgZ(40,"div",27)(41,"div",28)(42,"label",31),e._uU(43,"Email address"),e.qZA(),e._UZ(44,"input",32),e.qZA()()(),e.TgZ(45,"div",3)(46,"div",27)(47,"div",28)(48,"label",33),e._uU(49,"Phone"),e.qZA(),e._UZ(50,"input",34),e.qZA()(),e.TgZ(51,"div",27)(52,"div",28)(53,"label",35),e._uU(54,"Role"),e.qZA(),e._UZ(55,"input",36),e.qZA()()()(),e.YNc(56,l,1,0,"hr",37),e.YNc(57,p,2,0,"h6",38),e.YNc(58,t,18,3,"div",39),e.qZA()()()()()()),2&r&&(e.xp6(6),e.Oqu(null==o.user?null:o.user.displayName),e.xp6(15),e.hij(" ",null==o.user?null:o.user.displayName," "),e.xp6(18),e.Q6J("ngIf",null==o.user?null:o.user.displayName),e.xp6(5),e.Q6J("value",null==o.user?null:o.user.email),e.xp6(6),e.Q6J("value",null==o.user?null:o.user.phoneNumber),e.xp6(5),e.Q6J("value",null==o.user?null:o.user.roles),e.xp6(1),e.Q6J("ngIf",null==o.user?null:o.user.address),e.xp6(1),e.Q6J("ngIf",null==o.user?null:o.user.address),e.xp6(1),e.Q6J("ngIf",null==o.user?null:o.user.address))},dependencies:[c.O5,h._Y,h.JL,h.F],styles:[".card-profile-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n  width: 180px;\n}\n\n.mask[_ngcontent-%COMP%] {\n  position: fixed;\n  height: 300px;\n}"]}),i})()},6902:(b,_,d)=>{d.d(_,{yb:()=>c,Iq:()=>f});var m=d(6895),n=d(4650);const v=new n.OlP("WindowToken",typeof window<"u"&&window.document?{providedIn:"root",factory:()=>window}:{providedIn:"root",factory:()=>{}});var e=d(7579);let g=(()=>{class l{constructor(t,a,i){this.ngZone=t,this.document=a,this.window=i,this.copySubject=new e.x,this.copyResponse$=this.copySubject.asObservable(),this.config={}}configure(t){this.config=t}copy(t){if(!this.isSupported||!t)return this.pushCopyResponse({isSuccess:!1,content:t});const a=this.copyFromContent(t);return this.pushCopyResponse(a?{content:t,isSuccess:a}:{isSuccess:!1,content:t})}get isSupported(){return!!this.document.queryCommandSupported&&!!this.document.queryCommandSupported("copy")&&!!this.window}isTargetValid(t){if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement){if(t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');return!0}throw new Error("Target should be input or textarea")}copyFromInputElement(t,a=!0){try{this.selectTarget(t);const i=this.copyText();return this.clearSelection(a?t:void 0,this.window),i&&this.isCopySuccessInIE11()}catch{return!1}}isCopySuccessInIE11(){const t=this.window.clipboardData;return!(t&&t.getData&&!t.getData("Text"))}copyFromContent(t,a=this.document.body){if(this.tempTextArea&&!a.contains(this.tempTextArea)&&this.destroy(this.tempTextArea.parentElement||void 0),!this.tempTextArea){this.tempTextArea=this.createTempTextArea(this.document,this.window);try{a.appendChild(this.tempTextArea)}catch{throw new Error("Container should be a Dom element")}}this.tempTextArea.value=t;const i=this.copyFromInputElement(this.tempTextArea,!1);return this.config.cleanUpAfterCopy&&this.destroy(this.tempTextArea.parentElement||void 0),i}destroy(t=this.document.body){this.tempTextArea&&(t.removeChild(this.tempTextArea),this.tempTextArea=void 0)}selectTarget(t){return t.select(),t.setSelectionRange(0,t.value.length),t.value.length}copyText(){return this.document.execCommand("copy")}clearSelection(t,a){t&&t.focus(),a.getSelection()?.removeAllRanges()}createTempTextArea(t,a){const i="rtl"===t.documentElement.getAttribute("dir");let s;return s=t.createElement("textarea"),s.style.fontSize="12pt",s.style.border="0",s.style.padding="0",s.style.margin="0",s.style.position="absolute",s.style[i?"right":"left"]="-9999px",s.style.top=(a.pageYOffset||t.documentElement.scrollTop)+"px",s.setAttribute("readonly",""),s}pushCopyResponse(t){this.copySubject.observers.length>0&&this.ngZone.run(()=>{this.copySubject.next(t)})}pushCopyReponse(t){this.pushCopyResponse(t)}}return l.\u0275fac=function(t){return new(t||l)(n.LFG(n.R0b),n.LFG(m.K0),n.LFG(v,8))},l.\u0275prov=n.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),c=(()=>{class l{constructor(t,a,i,s){this.ngZone=t,this.host=a,this.renderer=i,this.clipboardSrv=s,this.cbOnSuccess=new n.vpe,this.cbOnError=new n.vpe,this.onClick=r=>{this.clipboardSrv.isSupported?this.targetElm&&this.clipboardSrv.isTargetValid(this.targetElm)?this.handleResult(this.clipboardSrv.copyFromInputElement(this.targetElm),this.targetElm.value,r):this.cbContent&&this.handleResult(this.clipboardSrv.copyFromContent(this.cbContent,this.container),this.cbContent,r):this.handleResult(!1,void 0,r)}}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.clickListener=this.renderer.listen(this.host.nativeElement,"click",this.onClick)})}ngOnDestroy(){this.clickListener&&this.clickListener(),this.clipboardSrv.destroy(this.container)}handleResult(t,a,i){let s={isSuccess:t,event:i};t?this.cbOnSuccess.observers.length>0&&(s=Object.assign(s,{content:a,successMessage:this.cbSuccessMsg}),this.ngZone.run(()=>{this.cbOnSuccess.emit(s)})):this.cbOnError.observers.length>0&&this.ngZone.run(()=>{this.cbOnError.emit(s)}),this.clipboardSrv.pushCopyResponse(s)}}return l.\u0275fac=function(t){return new(t||l)(n.Y36(n.R0b),n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(g))},l.\u0275dir=n.lG2({type:l,selectors:[["","ngxClipboard",""]],inputs:{targetElm:["ngxClipboard","targetElm"],container:"container",cbContent:"cbContent",cbSuccessMsg:"cbSuccessMsg"},outputs:{cbOnSuccess:"cbOnSuccess",cbOnError:"cbOnError"}}),l})(),f=(()=>{class l{}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=n.oAB({type:l}),l.\u0275inj=n.cJS({imports:[[m.ez]]}),l})()}}]);